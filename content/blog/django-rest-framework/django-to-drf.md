---
title: "장고에서 drf 로 마이그레이션 시도"
date: "2022-03-16"
category: django-rest-framework
---

## 0. 서론
재고관리 프로젝트 코드 리팩토링 과정중 가장 먼저 drf 로 마이그레이션 하는것을 선택했다.  
효율성을 위해 프론트와 백엔드를 구분하고 코드 재사용을 위한 선택이였다. 

## 1. 시작하기 전
API 에서는 Json 데이터를 리턴하고 프론트엔드 프레임워크에서 리턴받은 데이터를 보여주면 되겠다고 생각했다.  
당장 프론트엔드 프레임워크를 배우긴 힘들어서 방법에 대해 고민을 하던중 drf 공식문서에서 html 을 리턴하는것에도 적합하다는 내용을 보고 바로 시작했다.    

## 2. 첫 시도
- drf 공식 문서를 참고하여 데이터와 함께 `business_list.html` 을 리턴했다. 간단했지만 페이징이 불가능했다.
- 페이징 방법을 찾다가 `ViewSet` 과 `Serializer` 를 알게되어 사용해보았지만 잘 되지 않았다.
- `routers` 도 사용했는데 URL name 이 `{basename}-list` 형식으로 생성되지 않는것 같았다.

어느 하나 내가 원하는 대로 되지 않아서 커밋되지 않은 변경 사항을 모두 버리고 다시 생각해보기로 했다.  
그리고 프론트, 백엔드가 구분되어야 하기 때문에 drf 를 사용하지 않을수 없다는 결론을 내렸다.