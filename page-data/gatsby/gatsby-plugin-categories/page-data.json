{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/gatsby/gatsby-plugin-categories/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Today I Learned"}},"markdownRemark":{"id":"a7173183-0ba3-5de2-9662-3dd6192f0594","excerpt":"0. 서론 내가  를 사용해 만든 블로그 와 TIL…","html":"<h2>0. 서론</h2>\n<p>내가 <code class=\"language-text\">gatsby</code> 를 사용해 만든 <a href=\"https://ohyunkyo.github.io\">블로그</a> 와 <a href=\"https://ohyunkyo.github.io/TIL\">TIL</a> 는 일반적인 블로그 양식과 달리, 게시물들이 분류되어 있지 않고 전체 게시물 목록만을 출력한다.\r\n그래서 원하는 게시글을 찾거나 어떤 주제에 관한 글이 있는지 직관적으로 판단하기 어렵다.</p>\n<p>이 문제를 해결하기 위해 여러 방법을 찾아봤다. 많은 사람들이 다양한 방법으로 구현한 예제가 있었지만 리액트를 전혀 모르는 나에겐 적용하기 어려웠다.<br>\n그때 간단히 사용 가능한 <code class=\"language-text\">gatsby_plugin_categories</code> 라는 플러그인을 발견했는데, 이 플러그인을 사용해 게시물을 분류하는 방법을 정리한다.</p>\n<h3>0.1. 카테고리 사용 계획</h3>\n<p>내가 필요한 것은 다음과 같다.</p>\n<h4>0.1.1 각 카테고리 별 목록 페이지</h4>\n<ul>\n<li><code class=\"language-text\">/category/{category_name}</code> 페이지가 있어야 한다.</li>\n<li>해당 페이지에서 각 카테고리에 해당하는 게시물 목록을 출력한다.</li>\n</ul>\n<h4>0.1.2 각 카테고리 별 목록 페이지로 이동 가능한 네비게이션 메뉴</h4>\n<ul>\n<li>각 카테고리 별 목록 페이지로 이동 가능한 네비게이션을 만들고 모든 페이지에서 볼수 있도록 한다.</li>\n</ul>\n<h4>0.1.3 각 게시물 페이지에서 해당 카테고리 목록 페이지로 이동</h4>\n<ul>\n<li>게시물 페이지에 해당 카테고리의 목록 페이지로 이동 가능한 링크 출력</li>\n</ul>\n<blockquote>\n<p>블로그는 <a href=\"https://ohyunkyo.github.io/git/github-page-make-blog/\">github pages 를 사용하여 블로그 만들기</a> 와 같은 방법으로 만들었다.</p>\n</blockquote>\n<h2>1. 마크다운 파일 수정하기</h2>\n<p>가장 먼저 해야할 것은 <code class=\"language-text\">*.md</code> 파일들에 <code class=\"language-text\">category</code> 라는 <code class=\"language-text\">front-matter</code> 를 추가하는것이다.<br>\n이 마크다운 문서는 아래와 같은 <code class=\"language-text\">front-matter</code> 를 가지고 있는데, 이것처럼 <code class=\"language-text\">category</code> 를 추가하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span>\r\n<span class=\"token front-matter yaml language-yaml\">title: \"개츠비 카테고리 플러그인 사용하기\"\r\ndate: \"2022-08-02\"\r\nlast_modified_at: \"2022-08-00\"\r\ncategory: react</span>\r\n<span class=\"token punctuation\">---</span></span></code></pre></div>\n<h2>2. 각 카테고리 별 목록 페이지 생성</h2>\n<p>이제 방금 추가한 <code class=\"language-text\">category</code> 별로 목록 페이지를 생성하고 해당 목록 페이지에서 각 카테고리의 게시물 목록을 출력하도록 할것이다.<br>\n이 부분은 <code class=\"language-text\">gatsby_plugin_categories</code> 의 예제 소스를 가져와서 적용하기만 하면 쉽게 구현 가능하다.</p>\n<h3>2.1 설치</h3>\n<p>먼저 해당 플러그인을 설치한다. <code class=\"language-text\">README.md</code> 에서는 <code class=\"language-text\">yarn</code> 을 사용하는 방법을 안내하지만 나는 <code class=\"language-text\">npm</code> 을 사용했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> gatsby-plugin-categories </code></pre></div>\n<h3>2.2 파일 수정</h3>\n<p>플러그인을 불러오도록 <code class=\"language-text\">gatsby-config.js</code> 파일을 수정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// gatsby-config.js</span>\r\n\r\n<span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n<span class=\"token operator\">...</span>\r\n  <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby-plugin-categories\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">templatePath</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/templates/category.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p><code class=\"language-text\">gatsby-plugin-categories</code> 는 <code class=\"language-text\">graphql query</code> 로 전체 카테고리 목록을 가져온다. 그 뒤 <code class=\"language-text\">set</code> 객체에 담아 중복을 제거하고 <code class=\"language-text\">templatePath</code> 옵션의 템플릿을 사용하여 각 카테고리별 목록 페이지를 생성하게 된다.</p>\n<h3>2.3 파일 추가</h3>\n<p>다음으로는 예제 파일을 참고하여 플러그인 사용을 위한 파일을 추가한다.</p>\n<h4>2.3.1 category</h4>\n<p>가장 먼저 <code class=\"language-text\">category</code> 템플릿 파일을 추가했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// src/templates/category.js</span>\r\n\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Container <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-bootstrap\"</span>\r\n\r\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\r\n<span class=\"token keyword\">import</span> PostsList <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/PostsList\"</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">CategoryTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> location<span class=\"token punctuation\">,</span> pageContext<span class=\"token punctuation\">,</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> category <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pageContext\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Posts in category \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"category-container\"</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">SEO</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Posts in category \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n\r\n        <span class=\"token operator\">&lt;</span>Container<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Category<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>PostsList postEdges<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Container<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n  query CategoryPage($category: String) {\r\n    allMarkdownRemark(\r\n      limit: 1000\r\n      filter: { fields: { category: { eq: $category } } }\r\n    ) {\r\n      totalCount\r\n      edges {\r\n        node {\r\n          fields {\r\n            slug\r\n            category\r\n          }\r\n          excerpt\r\n          timeToRead\r\n          frontmatter {\r\n            title\r\n            date\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</span><span class=\"token template-punctuation string\">`</span></span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> CategoryTemplate</code></pre></div>\n<h4>2.3.2 PostsList</h4>\n<p>그 다음으로는 <code class=\"language-text\">category</code> 템플릿에서 사용하는 <code class=\"language-text\">PostsList</code> 컴포넌트를 추가한다.<br>\n여기에서는 <code class=\"language-text\">category</code> 로부터 해당 카테고리의 게시물 목록을 전달받아 출력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// src/components/PostsList.js</span>\r\n\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\r\n<span class=\"token keyword\">import</span> PostsListCard <span class=\"token keyword\">from</span> <span class=\"token string\">\"./PostsListCard\"</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">PostsList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> postEdges <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> postEdges<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>PostsListCard key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>node<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> PostsList</code></pre></div>\n<h4>2.3.3 PostsListCard</h4>\n<p><code class=\"language-text\">PostsList</code> 가 게시물 목록을 출력할 때에 개별 게시물 정보를 <code class=\"language-text\">PostsListCard</code> 컴포넌트에 전달한다.<br>\n<code class=\"language-text\">PostsListCard</code> 는 하나의 게시물 정보를 받아 목록의 요소로 사용될 수 있도록 가공 후 리턴한다.<br>\n나는 <code class=\"language-text\">PostsListCard</code> 에서 리턴하는 데이터가 <code class=\"language-text\">index</code> 페이지에서 출력되는 목록의 요소와 동일하게 보이도록 수정했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// src/components/PostsListCard.js</span>\r\n\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">PostsListCard</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> frontmatter<span class=\"token punctuation\">,</span> fields<span class=\"token punctuation\">,</span> excerpt <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> frontmatter<span class=\"token punctuation\">.</span>title <span class=\"token operator\">||</span> fields<span class=\"token punctuation\">.</span>slug\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>ol style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">listStyle</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">none</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>article\r\n          className<span class=\"token operator\">=</span><span class=\"token string\">\"post-list-item\"</span>\r\n          itemScope\r\n          itemType<span class=\"token operator\">=</span><span class=\"token string\">\"http://schema.org/Article\"</span>\r\n        <span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>\r\n              <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">}</span> itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"url\"</span><span class=\"token operator\">></span>\r\n                <span class=\"token operator\">&lt;</span>span itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"headline\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\r\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>small<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>frontmatter<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>small<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span>section<span class=\"token operator\">></span>\r\n            <span class=\"token operator\">&lt;</span>p\r\n              dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\r\n                <span class=\"token literal-property property\">__html</span><span class=\"token operator\">:</span> frontmatter<span class=\"token punctuation\">.</span>description <span class=\"token operator\">||</span> excerpt<span class=\"token punctuation\">,</span>\r\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n              itemProp<span class=\"token operator\">=</span><span class=\"token string\">\"description\"</span>\r\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>section<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ol<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> PostsListCard</code></pre></div>\n<blockquote>\n<p>만약 설치되지 않은 npm 패키지가 있다면 따로 설치해준다.</p>\n</blockquote>\n<h2>3. 각 카테고리 별 목록 페이지로 이동 가능한 네비게이션 메뉴 생성</h2>\n<p>다음으로는 생성된 카테고리 별 목록 페이지로 이동 가능한 링크가 있는 네비게이션 메뉴를 생성해야 한다.<br>\n일단 <code class=\"language-text\">components</code> 디렉토리에 <code class=\"language-text\">NavBar</code> 라는 컴포넌트를 생성했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// src/components/NavBar.js</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link<span class=\"token punctuation\">,</span> graphql<span class=\"token punctuation\">,</span> useStaticQuery<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">NavBar</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> allMarkdownRemark <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>\r\n    graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n      query {\r\n        allMarkdownRemark {\r\n          nodes {\r\n            fields {\r\n              category\r\n            }\r\n          }\r\n        }\r\n      }\r\n    </span><span class=\"token template-punctuation string\">`</span></span>\r\n  <span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">const</span> categorySet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  allMarkdownRemark<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\r\n   fields\r\n  <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fields <span class=\"token operator\">&amp;&amp;</span> fields<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      categorySet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>fields<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> categoryArr <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>categorySet<span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\r\n      <span class=\"token literal-property property\">카테고리</span> <span class=\"token operator\">:</span> <span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">{</span>categoryArr<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">category</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/category/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span><span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span>nbsp<span class=\"token punctuation\">;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n      <span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NavBar</code></pre></div>\n<p><code class=\"language-text\">gatsby-plugin-categories</code> 가 각 카테고리 별 목록 페이지를 생성하는 부분을 참고하여 카테고리 별 목록 페이지로 이동 가능한 링크를 만들었다.\r\n이후 필요한 페이지에서 컴포넌트를 호출해 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// src/pages/index.js</span>\r\n\r\n<span class=\"token operator\">...</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>Seo title<span class=\"token operator\">=</span><span class=\"token string\">\"All posts\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token comment\">/* 추가한 부분 */</span>\r\n      <span class=\"token operator\">&lt;</span>NavBar <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token comment\">/*------------*/</span>\r\n      <span class=\"token operator\">&lt;</span>Bio <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>ol style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">listStyle</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">none</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n<span class=\"token operator\">...</span></code></pre></div>\n<h2>4. 각 게시물 페이지에서 해당 카테고리 목록 페이지로 이동</h2>\n<p>마지막으로 각 게시물 페이지에서 해당 게시물의 카테고리 목록 페이지로 이동 가능한 버튼을 추가한다.<br>\n이 기능은 예제의 소스코드 그대로 사용했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// src/templates/blog-post.js</span>\r\n<span class=\"token operator\">...</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Container<span class=\"token punctuation\">,</span> Row<span class=\"token punctuation\">,</span> Col<span class=\"token punctuation\">,</span> Card <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-bootstrap\"</span>\r\n<span class=\"token operator\">...</span>\r\n\r\n<span class=\"token comment\">// 적당한 위치에 추가</span>\r\n<span class=\"token operator\">&lt;</span>Col md<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>category <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token operator\">&lt;</span>Card className<span class=\"token operator\">=</span><span class=\"token string\">\"my-4\"</span><span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>Card<span class=\"token punctuation\">.</span>Header<span class=\"token operator\">></span>Filed Under<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Card<span class=\"token punctuation\">.</span>Header<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>Card<span class=\"token punctuation\">.</span>Body<span class=\"token operator\">></span>\r\n        <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/category/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\r\n          <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">}</span>\r\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Card<span class=\"token punctuation\">.</span>Body<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Card<span class=\"token operator\">></span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\r\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Col<span class=\"token operator\">></span>\r\n\r\n<span class=\"token operator\">...</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\r\n  query BlogPostBySlug(\r\n    $id: String!\r\n    $previousPostId: String\r\n    $nextPostId: String\r\n  ) {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n      }\r\n    }\r\n    markdownRemark(id: { eq: $id }) {\r\n      id\r\n      excerpt(pruneLength: 160)\r\n      html\r\n      frontmatter {\r\n        title\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        description\r\n      }\r\n      /* 추가한 부분 */\r\n      fields {\r\n        category\r\n        slug\r\n      }\r\n      /*------------*/\r\n    }\r\n    previous: markdownRemark(id: { eq: $previousPostId }) {\r\n      fields {\r\n        slug\r\n      }\r\n      frontmatter {\r\n        title\r\n      }\r\n    }\r\n    next: markdownRemark(id: { eq: $nextPostId }) {\r\n      fields {\r\n        slug\r\n      }\r\n      frontmatter {\r\n        title\r\n      }\r\n    }\r\n  }\r\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<h2>99. 끝나고 나서</h2>\n<p>개인적으로 <code class=\"language-text\">gatsby-plugin-categories</code> 의 <code class=\"language-text\">README.md</code> 파일의 설명이 굉장히 부족하다고 느꼈다.<br>\n다른 참조할만한 문서도 없어서 소스코드만을 보고 구현에 성공했는데, 어떤 파일이 필요하고 각 파일이 어떤 역할을 하는지에 대해서는 기본적으로 제공해야 한다고 생각한다.</p>\n<p>내가 앞으로 어떤식으로든 소프트웨어를 만들게 되면 최대한 자세한 설명을 포함하는 문서를 제공해야겠다는 생각을 했다.</p>\n<blockquote>\n<p>[2022-08-16] 개츠비의 구조에 대해 조금 알게된 지금 생각해보니 소스코드 만으로도 어느정도 이해 가능하다는 생각이 든다. 하지만 자신이 만든 프로그램에 대한 설명은 자세할수록 좋다는 생각은 변함이 없다.</p>\n</blockquote>\n<h2>References</h2>\n<p><a href=\"https://github.com/rmcfadzean/gatsby-pantry/tree/master/packages/gatsby-plugin-categories\">gatsby-plugin-categories</a><br>\n<a href=\"https://github.com/rmcfadzean/gatsby-pantry/tree/master/examples/starter-blog#readme\">예제</a></p>","frontmatter":{"title":"개츠비 카테고리 플러그인 사용하기","date":"August 02, 2022","description":null}},"previous":{"fields":{"slug":"/git/git-commit-reset/"},"frontmatter":{"title":"깃 커밋 리셋하기"}},"next":null},"pageContext":{"id":"a7173183-0ba3-5de2-9662-3dd6192f0594","previousPostId":"f81b5e60-3562-5ac0-8d9c-7f8f8a603bf7","nextPostId":null}},
    "staticQueryHashes": ["2841359383","3257411868"]}