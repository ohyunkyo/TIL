{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/vue-js/axios-send-form/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Today I Learned"}},"markdownRemark":{"id":"a79e311e-ded9-5db9-91c9-a2c91e2984d9","excerpt":"0. 서론 validation 을 사용하지 않는 form 은 처음이였는데 데이터가 제대로 전송되지 않아서 찾아봤다. 1. 문제점 기본적으로 axios 에서 데이터를 전송할 때에는 json 형태의 데이터가 전송된다. 그렇기 때문에 form 을 사용해야 하는 경우(file…","html":"<h2>0. 서론</h2>\n<p>validation 을 사용하지 않는 form 은 처음이였는데 데이터가 제대로 전송되지 않아서 찾아봤다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">data</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">form</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">open_market</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">purchase_order_file</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    \r\n    <span class=\"token operator\">...</span>\r\n    \r\n<span class=\"token literal-property property\">methods</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">onSubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n            <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> url<span class=\"token punctuation\">,</span>\r\n            <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>form\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token operator\">...</span></code></pre></div>\n<h2>1. 문제점</h2>\n<p>기본적으로 axios 에서 데이터를 전송할 때에는 json 형태의 데이터가 전송된다.<br>\n그렇기 때문에 form 을 사용해야 하는 경우(file 전송 등)에는 별도의 설정이 필요하다.</p>\n<h2>2. 해결방법</h2>\n<p>input 의 데이터를 FormData 형식으로 변경 후 전송한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">...</span>\r\n<span class=\"token function\">onSubmit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">let</span> form <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    form<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'open_market'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span>open_market<span class=\"token punctuation\">)</span>\r\n    form<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">'purchase_order_file'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span>purchase_order_file<span class=\"token punctuation\">)</span>\r\n    <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> url<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> form<span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'multipart/form-data'</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'purchase order queue'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">params</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">date_string</span><span class=\"token operator\">:</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>result_data<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'등록에 실패했습니다'</span><span class=\"token punctuation\">)</span>\r\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token operator\">...</span></code></pre></div>\n<p><a href=\"https://yamoo9.github.io/axios/guide/form-format.html#%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80\">출처1</a>\r\n<a href=\"https://solbel.tistory.com/886\">출처2</a></p>","frontmatter":{"title":"axios 에서 form 전송하기","date":"April 08, 2022","description":null}},"previous":{"fields":{"slug":"/vue-js/how-to-redirect-by-vue-router/"},"frontmatter":{"title":"Vue Router 사용한 페이지 이동"}},"next":{"fields":{"slug":"/django-rest-framework/json-to-dataframe/"},"frontmatter":{"title":"json 데이터를 dataframe 으로 변환하기"}}},"pageContext":{"id":"a79e311e-ded9-5db9-91c9-a2c91e2984d9","previousPostId":"69c4c556-c5ee-5f1c-a750-770741ea2ec1","nextPostId":"2a7bb4a7-c3cb-5c9d-abc9-d6695ae88505"}},
    "staticQueryHashes": ["2841359383","3257411868"]}